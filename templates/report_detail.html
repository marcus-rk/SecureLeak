{#
    Individual report detail card.
    `reports.view_report` passes a single report dict with id, status, severity, and description fields.
    Provides a back link to the listing so browsing remains in the reports blueprint.
#}
{% extends "layout.html" %}
{% block content %}
    <section class="reports card">
        <h2>Report #{{ report.id }}: {{ report.title }}</h2>
        <div class="report-detail">
            <div class="report-meta">
                <dl>
                    <div>
                        <dt>Owner</dt>
                        <dd>
                            {{ report.owner_username or 'Unknown' }}
                        </dd>
                    </div>
                    <div>
                        <dt>Status</dt>
                        <dd>
                            {{ report.status|capitalize }}
                        </dd>
                    </div>
                    <div>
                        <dt>Severity</dt>
                        <dd>
                            {{ report.severity|capitalize }}
                        </dd>
                    </div>
                </dl>
            </div>

            <div class="report-description">
                <h3>Description</h3>
                <p>{{ report.description }}</p>
            </div>
        </div>
        {% if report.image_name %}
            <div class="report-attachment">
                <img src="{{ url_for('reports.report_file', report_id=report.id, name=report.image_name) }}" alt="Attachment">
            </div>
        {% endif %}
        <a class="button-link" href="{{ url_for('reports.list_reports') }}">Back to reports</a>
    </section>
{% endblock %}
